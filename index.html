<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Today's LeetCode Problems</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    li { margin-bottom: 10px; }
    button { margin-left: 10px; }
    nav a { margin-right: 15px; }
  </style>
</head>
<body>
  <h1>Today's LeetCode Problems</h1>
  <nav>
    <a href="solved.html">Solved Problems</a>
    <a href="solve_later.html">Solve Later Problems</a>
  </nav>
  <ul id="list"></ul>

  <script>
    const today = new Date().toISOString().split("T")[0];

    fetch("./data/state.json")
      .then(r => r.json())
      .then(state => {
        const list = document.getElementById("list");
        const problems = (state.assigned[today] || []).filter(
          p => p.status === "pending" && !p.solve_later
        );

        if (!problems.length) {
          list.innerHTML = "<li>No new problems pending today</li>";
          return;
        }

        problems.forEach(p => {
          const li = document.createElement("li");
          const copyBtn = document.createElement("button");
          copyBtn.textContent = "Copy Slug";
          copyBtn.onclick = () => {
            navigator.clipboard.writeText(p.slug).then(() => {
              copyBtn.textContent = "Copied!";
              setTimeout(() => copyBtn.textContent = "Copy Slug", 1000);
            });
          };

          li.innerHTML = `
            <a href="https://leetcode.com/problems/${p.slug}" target="_blank">
              ${p.title}
            </a>
            <code>(${p.slug})</code> - ${p.difficulty} - <strong>${p.status}</strong>
          `;
          li.appendChild(copyBtn);
          list.appendChild(li);
        });
      });
  </script>
</body>
</html>

